# 针对 Web 的攻击技术

原因:
- HTTP 不具备必要的安全功能
- 在客户端即可篡改请求
在 HTTP 请求报文内加载攻击代码，就能发起对 Web 应用的攻击。通过 **URL 查询字段或表单、HTTP 首部、Cookie** 等途径把攻击代码传入，若这时 Web 应用存在安全漏洞，那内部信息就会遭到窃取，或被攻击者拿到管理权限。

## 对 Web 应用的攻击

攻击模式有以下两种:
- 主动攻击
- 被动攻击

### 以服务器为目标的主动攻击

主动攻击（active attack）是指攻击者通过直接访问 Web 应用，把攻击代码传入的攻击模式。主动攻击模式里具有代表性的攻击是 SQL 注入攻击和 OS 命令注入攻击。

### 以服务器为目标的被动攻击

被动攻击（passive attack）是指利用圈套策略执行攻击代码的攻击模式。在被动攻击过程中，攻击者不直接对目标 Web 应用访问发起攻击。

被动攻击通常的攻击模式如下所示:

1. 攻击者诱使用户触发已设置好的陷阱，而陷阱会启动发送已嵌入攻击代码的 HTTP 请求。
2. 当用户不知不觉中招之后，用户的浏览器或邮件客户端就会触发这个陷阱。
3. 中招后的用户浏览器会把含有攻击代码的 HTTP 请求发送给作为攻击目标的 Web 应用，运行攻击代码。
4. 执行完攻击代码，存在安全漏洞的 Web 应用会成为攻击者的跳板，可能导致用户所持的 Cookie 等个人信息被窃取，登录状态中的用户权限遭恶意滥用等后果。

被动攻击模式中具有代表性的攻击是跨站脚本攻击和跨站点请求伪造。

## 因输出值转义不完全引发的安全漏洞

实施 Web 应用的安全对策可大致分为以下两部分:

- 客户端的验证
- Web 应用端（服务器端）的验证
 - 输入值验证
 - 输出值转义

多数情况下采用 JavaScript 在客户端验证数据。可是在客户端允许篡改数据或关闭 JavaScript，因此不适合仅将 JavaScript 验证作为安全的防范对策,而是还要有服务端输入验证的配合。**保留客户端验证只是为了尽早地辨识输入错误，起到提高 UI 体验的作用。**

Web 应用端的输入值验证按 Web 应用内的处理则有可能被误认为是具有攻击性意义的代码。

## 跨站脚本攻击