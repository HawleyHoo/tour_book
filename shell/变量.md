# 变量

变量名必须以字母或下划线字符开头,其余的字符可以是字母、数字(0~9)或下划线字符,同时变量名是大小写敏感的.

> 约定: 环境变量和从全局配置文件里读取的变量使用大写,其余均用小写,并使用下划线分隔变量名的各部分.

变量的赋值方式为：`变量名称=值`,当所赋的值中间含有空格时，要加上引号.
赋值号两边**没有任何空格**,当想取shell变量的值时，需要在变量名前加上$字符.

一般用花括号括起变量名,以便于理解和阅读,但在双引号字符串中扩展变量时不可省略,如下:

    $ test=ll
    $ echo "he${test}o"
    hello
    $ echo "he$testo" #被提前截断
    he

shell以相似的方式处理单/双引号括起的字符串,区别在于双引号里的变量可以进行替换和变量扩展,单引号里的内容为原样输出.

    $ test=world
    $ echo "hello ${test}"
    hello world
    $ echo 'hello ${test}'
    hello ${test}

反引号里的内容会被当做shell命令执行,输出结果替代其内容的位置.

    echo "kernel is `uname -s`."

`export varname`可将一个shell变量提升为环境变量.
`${#var}`,可获得变量的长度(字符数).

## 变量作用域

在脚本里的变量是全局变量,但在函数中可用local声明局部变量(会屏蔽同名的局部变量).

## 特殊变量

- `$0`：当前脚本的文件名,比如`./hello.sh`
- `$num`：num为从1开始的数字，$1是第一个参数，$2是第二个参数，${10}是第十个参数
- `$#` : 传给脚本的参数个数
- `$*` : 保存传给脚本的所有参数
- `$?` : 上次执行命令的退出状态

# 变量替换
## ${var/Pattern/Replacement}

在变量var中第一个匹配Pattern的字符串会被Replacement代替. 如果省略了Replacement,则第一个匹配Pattern的字符串会被删除.

## ${var//Pattern/Replacement}
全局替换replacement.所有在变量var中被Pattern匹配到的都由Replacement代替.同上类似,如果省略了Replacement,则所有匹配Pattern的字符串会被删除.


ps:

参考:http://www.360doc.com/content/12/0419/14/496343_204908029.shtml
http://www.cnblogs.com/barrychiao/archive/2012/10/22/2733210.html
